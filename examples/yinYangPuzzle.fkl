(import (.. lib utils))

(define btk (dlopen "btk"))
(define getch (dlsym btk "getch"))

(let* [(yin ((lambda (cc) (princ #\@) cc)
             (call/cc (lambda (c) c))))
       (yang ((lambda (cc) (princ #\*) cc)
              (call/cc (lambda (c) c))))]
  (if (eq (getch) #\\4) nil
    (yin yang)))
(dlclose btk)
